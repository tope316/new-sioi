{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\ReactJS\\\\new-sioi\\\\components\\\\CurrencySelect.tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Select } from \"@blueprintjs/select\";\nimport { Button, MenuItem } from \"@blueprintjs/core\";\nimport \"@blueprintjs/select/lib/css/blueprint-select.css\";\nimport { areCurrencyEqual, createCurrency, currencySelectProps, maybeAddCreatedCurrencyToArrays, maybeDeleteCreatedCurrencyFromArrays, renderCreateCurrencyOption, CURRENCIES } from './misc/currency';\nimport { useState } from 'react';\nexport default function CurrencySelect(props) {\n  _s();\n\n  var _useState = useState({\n    allowCreate: false,\n    closeOnSelect: true,\n    createdItems: [],\n    disableItems: false,\n    disabled: false,\n    fill: true,\n    currency: CURRENCIES[0],\n    filterable: true,\n    hasInitialContent: false,\n    items: currencySelectProps.items,\n    minimal: false,\n    openOnKeyDown: false,\n    resetOnClose: false,\n    resetOnQuery: false,\n    resetOnSelect: false\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var CurrencySelect = Select.ofType();\n\n  var handleValueChange = function handleValueChange(currency) {\n    var _maybeDeleteCreatedCu = maybeDeleteCreatedCurrencyFromArrays(state.items, state.createdItems, state.currency),\n        createdItems = _maybeDeleteCreatedCu.createdItems,\n        items = _maybeDeleteCreatedCu.items;\n\n    var _maybeAddCreatedCurre = maybeAddCreatedCurrencyToArrays(items, createdItems, currency),\n        nextCreatedItems = _maybeAddCreatedCurre.createdItems,\n        nextItems = _maybeAddCreatedCurre.items;\n\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      currency: currency,\n      createdItems: nextCreatedItems,\n      items: nextItems\n    }));\n    props.onExchangerateChange(currency);\n  };\n\n  var allowCreate = state.allowCreate,\n      currency = state.currency,\n      minimal = state.minimal,\n      flags = _objectWithoutProperties(state, [\"allowCreate\", \"currency\", \"minimal\"]);\n\n  var maybeCreateNewItemFromQuery = allowCreate ? createCurrency : undefined;\n  var maybeCreateNewItemRenderer = allowCreate ? renderCreateCurrencyOption : null;\n  return /*#__PURE__*/_jsxDEV(CurrencySelect, _objectSpread(_objectSpread(_objectSpread({}, currencySelectProps), flags), {}, {\n    createNewItemFromQuery: maybeCreateNewItemFromQuery,\n    createNewItemRenderer: maybeCreateNewItemRenderer,\n    itemsEqual: areCurrencyEqual,\n    items: state.items,\n    noResults: /*#__PURE__*/_jsxDEV(MenuItem, {\n      disabled: true,\n      text: \"No results.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 18\n    }, this),\n    onItemSelect: handleValueChange,\n    popoverProps: {\n      minimal: minimal\n    },\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      rightIcon: \"caret-down\",\n      text: props.currency ? \"\".concat(currency.currency_code) : \"(No selection)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CurrencySelect, \"7cef61DfipB5zC92avj3CfccvOE=\");\n\n_c = CurrencySelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"CurrencySelect\");","map":{"version":3,"sources":["D:/ReactJS/new-sioi/components/CurrencySelect.tsx"],"names":["Select","Button","MenuItem","areCurrencyEqual","createCurrency","currencySelectProps","maybeAddCreatedCurrencyToArrays","maybeDeleteCreatedCurrencyFromArrays","renderCreateCurrencyOption","CURRENCIES","useState","CurrencySelect","props","allowCreate","closeOnSelect","createdItems","disableItems","disabled","fill","currency","filterable","hasInitialContent","items","minimal","openOnKeyDown","resetOnClose","resetOnQuery","resetOnSelect","state","setState","ofType","handleValueChange","nextCreatedItems","nextItems","onExchangerateChange","flags","maybeCreateNewItemFromQuery","undefined","maybeCreateNewItemRenderer","currency_code"],"mappings":"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","sourcesContent":["import { Select } from \"@blueprintjs/select\"\nimport { Button, MenuItem } from \"@blueprintjs/core\";\nimport \"@blueprintjs/select/lib/css/blueprint-select.css\"\nimport {\n  areCurrencyEqual,\n  createCurrency,\n  currencySelectProps,\n  ICurrency,\n  maybeAddCreatedCurrencyToArrays,\n  maybeDeleteCreatedCurrencyFromArrays,\n  renderCreateCurrencyOption,\n  CURRENCIES,\n} from './misc/currency'\nimport { useState } from 'react'\n\nexport default function CurrencySelect(props) {\n\n\n  const [state, setState] = useState({\n    allowCreate: false,\n    closeOnSelect: true,\n    createdItems: [],\n    disableItems: false,\n    disabled: false,\n    fill: true,\n    currency: CURRENCIES[0],\n    filterable: true,\n    hasInitialContent: false,\n    items: currencySelectProps.items,\n    minimal: false,\n    openOnKeyDown: false,\n    resetOnClose: false,\n    resetOnQuery: false,\n    resetOnSelect: false,\n  })\n\n  const CurrencySelect = Select.ofType<ICurrency>()\n\n  const handleValueChange = (currency: ICurrency) => {\n    const { createdItems, items } = maybeDeleteCreatedCurrencyFromArrays(\n      state.items,\n      state.createdItems,\n      state.currency,\n    )\n\n    const { createdItems: nextCreatedItems, items: nextItems } = maybeAddCreatedCurrencyToArrays(\n      items,\n      createdItems,\n      currency,\n    )\n    setState({\n      ...state,\n      currency,\n      createdItems: nextCreatedItems,\n      items: nextItems\n    })\n    props.onExchangerateChange(currency)\n  }\n\n\n  const { allowCreate, currency, minimal, ...flags } = state\n  const maybeCreateNewItemFromQuery = allowCreate ? createCurrency : undefined;\n  const maybeCreateNewItemRenderer = allowCreate ? renderCreateCurrencyOption : null;\n\n  return (\n    <CurrencySelect\n      {...currencySelectProps}\n      {...flags}\n      createNewItemFromQuery={maybeCreateNewItemFromQuery}\n      createNewItemRenderer={maybeCreateNewItemRenderer}\n      itemsEqual={areCurrencyEqual}\n      items={state.items}\n      noResults={<MenuItem disabled={true} text=\"No results.\" />}\n      onItemSelect={handleValueChange}\n      popoverProps={{ minimal }}\n    >\n        <Button\n            rightIcon=\"caret-down\"\n            text={props.currency ? `${currency.currency_code}` : \"(No selection)\"}\n        />\n    </CurrencySelect>\n  )\n}"]},"metadata":{},"sourceType":"module"}