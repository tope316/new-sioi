{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/home/aguel/web/components/FilmSuggest.tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Suggest } from \"@blueprintjs/select\";\nimport { MenuItem } from \"@blueprintjs/core\";\nimport \"@blueprintjs/select/lib/css/blueprint-select.css\";\nimport { areFilmsEqual, createFilm, filmSelectProps, maybeAddCreatedFilmToArrays, maybeDeleteCreatedFilmFromArrays, renderCreateFilmOption, TOP_100_FILMS } from './misc/films';\nimport { useState } from 'react';\nexport default function FilmSuggest(props) {\n  _s();\n\n  var _useState = useState({\n    allowCreate: false,\n    closeOnSelect: true,\n    createdItems: [],\n    fill: true,\n    film: TOP_100_FILMS[0],\n    items: filmSelectProps.items,\n    minimal: false,\n    openOnKeyDown: false,\n    resetOnClose: false,\n    resetOnQuery: false,\n    resetOnSelect: false\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var FilmSuggest = Suggest.ofType();\n\n  var renderInputValue = function renderInputValue(film) {\n    return film.title;\n  };\n\n  var handleValueChange = function handleValueChange(film) {\n    var _maybeDeleteCreatedFi = maybeDeleteCreatedFilmFromArrays(state.items, state.createdItems, state.film),\n        createdItems = _maybeDeleteCreatedFi.createdItems,\n        items = _maybeDeleteCreatedFi.items;\n\n    var _maybeAddCreatedFilmT = maybeAddCreatedFilmToArrays(items, createdItems, film),\n        nextCreatedItems = _maybeAddCreatedFilmT.createdItems,\n        nextItems = _maybeAddCreatedFilmT.items;\n\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      film: film,\n      createdItems: nextCreatedItems,\n      items: nextItems\n    }));\n  };\n\n  var allowCreate = state.allowCreate,\n      film = state.film,\n      minimal = state.minimal,\n      flags = _objectWithoutProperties(state, [\"allowCreate\", \"film\", \"minimal\"]);\n\n  var maybeCreateNewItemFromQuery = allowCreate ? createFilm : undefined;\n  var maybeCreateNewItemRenderer = allowCreate ? renderCreateFilmOption : null;\n  return /*#__PURE__*/_jsxDEV(FilmSuggest, _objectSpread(_objectSpread(_objectSpread({}, filmSelectProps), flags), {}, {\n    createNewItemFromQuery: maybeCreateNewItemFromQuery,\n    createNewItemRenderer: maybeCreateNewItemRenderer,\n    inputValueRenderer: renderInputValue,\n    itemsEqual: areFilmsEqual,\n    items: state.items,\n    noResults: /*#__PURE__*/_jsxDEV(MenuItem, {\n      disabled: true,\n      text: \"No results.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 18\n    }, this),\n    onItemSelect: handleValueChange,\n    popoverProps: {\n      minimal: minimal\n    }\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FilmSuggest, \"+kZ57X8hLpTfV2fAa7sYzz33tIk=\");\n\n_c = FilmSuggest;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilmSuggest\");","map":{"version":3,"sources":["/home/aguel/web/components/FilmSuggest.tsx"],"names":["Suggest","MenuItem","areFilmsEqual","createFilm","filmSelectProps","maybeAddCreatedFilmToArrays","maybeDeleteCreatedFilmFromArrays","renderCreateFilmOption","TOP_100_FILMS","useState","FilmSuggest","props","allowCreate","closeOnSelect","createdItems","fill","film","items","minimal","openOnKeyDown","resetOnClose","resetOnQuery","resetOnSelect","state","setState","ofType","renderInputValue","title","handleValueChange","nextCreatedItems","nextItems","flags","maybeCreateNewItemFromQuery","undefined","maybeCreateNewItemRenderer"],"mappings":"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","sourcesContent":["import { Suggest } from \"@blueprintjs/select\"\nimport { MenuItem } from \"@blueprintjs/core\"\nimport \"@blueprintjs/select/lib/css/blueprint-select.css\"\nimport {\n  areFilmsEqual,\n  createFilm,\n  filmSelectProps,\n  IFilm,\n  maybeAddCreatedFilmToArrays,\n  maybeDeleteCreatedFilmFromArrays,\n  renderCreateFilmOption,\n  TOP_100_FILMS,\n} from './misc/films'\nimport { useState } from 'react'\n\nexport default function FilmSuggest(props) {\n\n\n  const [state, setState] = useState({\n    allowCreate: false,\n    closeOnSelect: true,\n    createdItems: [],\n    fill: true,\n    film: TOP_100_FILMS[0],\n    items: filmSelectProps.items,\n    minimal: false,\n    openOnKeyDown: false,\n    resetOnClose: false,\n    resetOnQuery: false,\n    resetOnSelect: false,\n  })\n\n  const FilmSuggest = Suggest.ofType<IFilm>()\n\n  const renderInputValue = (film: IFilm) => film.title\n\n  const handleValueChange = (film: IFilm) => {\n    const { createdItems, items } = maybeDeleteCreatedFilmFromArrays(\n      state.items,\n      state.createdItems,\n      state.film,\n    )\n\n    const { createdItems: nextCreatedItems, items: nextItems } = maybeAddCreatedFilmToArrays(\n      items,\n      createdItems,\n      film,\n    )\n    setState({\n      ...state,\n      film,\n      createdItems: nextCreatedItems,\n      items: nextItems\n    })\n  }\n\n\n  const { allowCreate, film, minimal, ...flags } = state\n  const maybeCreateNewItemFromQuery = allowCreate ? createFilm : undefined;\n  const maybeCreateNewItemRenderer = allowCreate ? renderCreateFilmOption : null;\n\n  return (\n    <FilmSuggest\n      {...filmSelectProps}\n      {...flags}\n      createNewItemFromQuery={maybeCreateNewItemFromQuery}\n      createNewItemRenderer={maybeCreateNewItemRenderer}\n      inputValueRenderer={renderInputValue}\n      itemsEqual={areFilmsEqual}\n      items={state.items}\n      noResults={<MenuItem disabled={true} text=\"No results.\" />}\n      onItemSelect={handleValueChange}\n      popoverProps={{ minimal }}\n    />\n  )\n}"]},"metadata":{},"sourceType":"module"}