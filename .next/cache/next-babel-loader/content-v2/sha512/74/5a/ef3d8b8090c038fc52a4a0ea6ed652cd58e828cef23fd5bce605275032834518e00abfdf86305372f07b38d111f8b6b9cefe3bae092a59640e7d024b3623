{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\ReactJS\\\\new-sioi\\\\components\\\\TopBar.tsx\",\n    _s = $RefreshSig$();\n\nimport Image from 'next/image';\nimport { useRouter } from 'next/router';\nimport { useCookies } from \"react-cookie\";\nimport { parseCookies } from \"../helpers/\";\nexport default function TopBar(props) {\n  _s();\n\n  var router = useRouter();\n\n  var _useCookies = useCookies([\"jwt\"]),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookie = _useCookies2[0],\n      removeCookie = _useCookies2[1];\n\n  var goLogin = function goLogin(e) {\n    e.preventDefault();\n    router.push(\"/login\");\n  };\n\n  var goDashboard = function goDashboard(e) {\n    e.preventDefault();\n    router.push(\"/dashboard\");\n  };\n\n  var goReport = function goReport(e) {\n    e.preventDefault();\n    router.push(\"/report\");\n  };\n\n  function handlelogout(_x) {\n    return _handlelogout.apply(this, arguments);\n  }\n\n  function _handlelogout() {\n    _handlelogout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              removeCookie('jwt', props.jwt);\n              router.push(\"/login\");\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _handlelogout.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"px-3 pt-2\",\n    style: {\n      backgroundColor: 'transparent'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bp3-navbar-group bp3-align-left\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bp3-navbar-heading\",\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          src: \"/images/ISL_LOGO.png\",\n          alt: \"logo\",\n          width: 56,\n          height: 50,\n          layout: \"fixed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bp3-navbar-group bp3-align-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bp3-button bp3-minimal bp3-icon-home\",\n        onClick: goDashboard,\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bp3-button bp3-minimal bp3-icon-chart\",\n        onClick: goReport,\n        children: \"Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bp3-button bp3-minimal bp3-icon-log-out\",\n        onClick: handlelogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"bp3-navbar-divider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bp3-button bp3-minimal bp3-icon-user\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bp3-button bp3-minimal bp3-icon-notifications\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bp3-button bp3-minimal bp3-icon-cog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TopBar, \"0hdBI18xk91nM1do35qQH3ixrtM=\", false, function () {\n  return [useRouter, useCookies];\n});\n\n_c = TopBar;\n\nTopBar.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ctx) {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return parseCookies(ctx.req);\n\n          case 2:\n            data = _context2.sent;\n\n            if (ctx.res) {\n              if (Object.keys(data).length === 0 && data.constructor === Object) {\n                ctx.res.writeHead(301, {\n                  Location: \"/\"\n                });\n                ctx.res.end();\n              }\n            }\n\n            return _context2.abrupt(\"return\", {\n              props: data && data\n            });\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar _c;\n\n$RefreshReg$(_c, \"TopBar\");","map":{"version":3,"sources":["D:/ReactJS/new-sioi/components/TopBar.tsx"],"names":["Image","useRouter","useCookies","parseCookies","TopBar","props","router","cookie","removeCookie","goLogin","e","preventDefault","push","goDashboard","goReport","handlelogout","jwt","backgroundColor","getInitialProps","ctx","req","data","res","Object","keys","length","constructor","writeHead","Location","end"],"mappings":"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","sourcesContent":["import Image from 'next/image'\nimport { useRouter } from 'next/router'\nimport { useCookies } from \"react-cookie\"\nimport { parseCookies } from \"../helpers/\"\n\nexport default function TopBar(props) {\n\n  const router = useRouter()\n  const [cookie, removeCookie] = useCookies([\"jwt\"])\n\n  const goLogin = (e) => {\n    e.preventDefault()\n    router.push(\"/login\")\n  }\n\n  const goDashboard = (e) => {\n    e.preventDefault()\n    router.push(\"/dashboard\")\n  }\n\n  const goReport = (e) => {\n    e.preventDefault()\n    router.push(\"/report\")\n  }\n\n  async function handlelogout(e) {\n    e.preventDefault()\n    removeCookie('jwt', props.jwt)\n    router.push(\"/login\")\n  }\n\n  return (\n    <nav className=\"px-3 pt-2\" style={{ backgroundColor: 'transparent' }}>\n      <div className=\"bp3-navbar-group bp3-align-left\">\n        <div className=\"bp3-navbar-heading\">\n          <Image\n            src=\"/images/ISL_LOGO.png\"\n            alt=\"logo\"\n            width={56}\n            height={50}\n            layout=\"fixed\"\n          />\n        </div>\n      </div>\n      <div className=\"bp3-navbar-group bp3-align-right\">\n        <button className=\"bp3-button bp3-minimal bp3-icon-home\" onClick={goDashboard}>Dashboard</button>\n        <button className=\"bp3-button bp3-minimal bp3-icon-chart\" onClick={goReport}>Report</button>\n        <button className=\"bp3-button bp3-minimal bp3-icon-log-out\" onClick={handlelogout}>Logout</button>\n        <span className=\"bp3-navbar-divider\"></span>\n        <button className=\"bp3-button bp3-minimal bp3-icon-user\"></button>\n        <button className=\"bp3-button bp3-minimal bp3-icon-notifications\"></button>\n        <button className=\"bp3-button bp3-minimal bp3-icon-cog\"></button>\n      </div>\n    </nav>\n  )\n}\n\nTopBar.getInitialProps = async (ctx) => {\n  const data = await parseCookies(ctx.req)\n\n  if (ctx.res) {\n    if (Object.keys(data).length === 0 && data.constructor === Object) {\n      ctx.res.writeHead(301, { Location: \"/\" })\n      ctx.res.end()\n    }\n  }\n  \n  return {\n    props: data && data,\n  }\n}"]},"metadata":{},"sourceType":"module"}